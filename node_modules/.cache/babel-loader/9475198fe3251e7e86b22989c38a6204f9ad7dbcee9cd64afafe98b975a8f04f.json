{"ast":null,"code":"var _jsxFileName = \"/home/ndohw/dev/Coursework/Capstone/src/components/AllProducts.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Sorting from \"./Sorting\";\nimport Filter from \"./Filter\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AllProducts(_ref) {\n  _s();\n  let {\n    handleAddToCart,\n    user\n  } = _ref;\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [selectedDescription, setSelectedDescription] = useState(null);\n  useEffect(() => {\n    fetchAllProducts();\n  }, []);\n\n  //fetch all products\n  const fetchAllProducts = async () => {\n    try {\n      const response = await fetch(\"https://fakestoreapi.com/products\");\n      const result = await response.json();\n      setProducts(result);\n      setFilteredProducts(result);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  //function to update filteredProducts\n  const updateFilteredProducts = filtered => {\n    setFilteredProducts(filtered);\n  };\n\n  //toggle product description visibility\n  const toggleDescription = productId => {\n    setSelectedDescription(selectedDescription === productId ? null : productId);\n  };\n\n  //handle add to cart when user is not logged in\n  const handleAddToCartClick = product => {\n    if (!user) {\n      alert(\"Please log in to add items to your cart.\");\n      return;\n    }\n    handleAddToCart(product);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navbar\",\n        children: [/*#__PURE__*/_jsxDEV(Sorting, {\n          products: filteredProducts,\n          setProducts: setFilteredProducts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Filter, {\n          products: products,\n          setFilteredProducts: updateFilteredProducts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"all-products-container\",\n        children: filteredProducts.length === 0 ?\n        /*#__PURE__*/\n        //zero results from filters\n        _jsxDEV(\"p\", {\n          children: \"No matching products found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this) : filteredProducts.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.image,\n            width: \"250\",\n            height: \"300\",\n            alt: product.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: product.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"$\", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"description-button\",\n            onClick: () => toggleDescription(product.id),\n            children: selectedDescription === product.id ? \"Hide Description\" : \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this), selectedDescription === product.id && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"product-description\",\n            children: product.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 19\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-button\",\n            onClick: () => handleAddToCart(product),\n            children: \"Add to Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this)]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(AllProducts, \"axloajktrM+vqOS/o+xdlWtHq7M=\");\n_c = AllProducts;\nvar _c;\n$RefreshReg$(_c, \"AllProducts\");","map":{"version":3,"names":["React","useState","useEffect","Sorting","Filter","AllProducts","handleAddToCart","user","products","setProducts","filteredProducts","setFilteredProducts","selectedDescription","setSelectedDescription","fetchAllProducts","response","fetch","result","json","err","console","error","updateFilteredProducts","filtered","toggleDescription","productId","handleAddToCartClick","product","alert","length","map","image","title","price","id","description"],"sources":["/home/ndohw/dev/Coursework/Capstone/src/components/AllProducts.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Sorting from \"./Sorting\";\nimport Filter from \"./Filter\";\n\nexport default function AllProducts({ handleAddToCart, user }) {\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [selectedDescription, setSelectedDescription] = useState(null);\n\n  useEffect(() => {\n    fetchAllProducts();\n  }, []);\n\n  //fetch all products\n  const fetchAllProducts = async () => {\n    try {\n      const response = await fetch(\"https://fakestoreapi.com/products\");\n      const result = await response.json();\n      setProducts(result);\n      setFilteredProducts(result);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  //function to update filteredProducts\n  const updateFilteredProducts = (filtered) => {\n    setFilteredProducts(filtered);\n  };\n\n  //toggle product description visibility\n  const toggleDescription = (productId) => {\n    setSelectedDescription(\n      selectedDescription === productId ? null : productId,\n    );\n  };\n\n  //handle add to cart when user is not logged in\n  const handleAddToCartClick = (product) => {\n    if (!user) {\n      alert(\"Please log in to add items to your cart.\");\n      return;\n    }\n    handleAddToCart(product);\n  };\n\n  return (\n    <div>\n      <div className=\"container\">\n        <div className=\"navbar\">\n          <Sorting\n            products={filteredProducts}\n            setProducts={setFilteredProducts}\n          />\n          <Filter\n            products={products}\n            setFilteredProducts={updateFilteredProducts}\n          />\n        </div>\n\n        <div id=\"all-products-container\">\n          {filteredProducts.length === 0 ? (\n            //zero results from filters\n            <p>No matching products found.</p>\n          ) : (\n            filteredProducts.map((product) => (\n              <div key={product.id} className=\"product\">\n                <img\n                  src={product.image}\n                  width=\"250\"\n                  height=\"300\"\n                  alt={product.title}\n                />\n                <h3>{product.title}</h3>\n                <p>${product.price}</p>\n                <button\n                  className=\"description-button\"\n                  onClick={() => toggleDescription(product.id)}\n                >\n                  {/*Description button */}\n                  {selectedDescription === product.id\n                    ? \"Hide Description\"\n                    : \"Description\"}\n                </button>\n                {selectedDescription === product.id && (\n                  <p className=\"product-description\">{product.description}</p>\n                )}{\" \"}\n                {/*Add item to cart*/}\n                <button\n                  className=\"add-button\"\n                  onClick={() => handleAddToCart(product)}\n                >\n                  Add to Cart\n                </button>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}